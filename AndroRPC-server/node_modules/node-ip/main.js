#!/usr/bin/env node
/*jshint node:true */

/*
 # St√•le Raknes, 2014
 # @starak666
 */
"use strict";
require( "colors" );

if ( process.argv[2] === "-l" ) {
    var getLocalIp = require( "node-localip" );

    getLocalIp( function ( err, ip ) {
        console.log( err || ip );
    } );
} else {

    var interfaces = require( "os" ).networkInterfaces();

    for ( var i in interfaces ) {
        if ( interfaces.hasOwnProperty( i ) ) {
            interfaces[i].map( function mapInterface( intface ) {
                if ( intface.family === "IPv4" && !intface.internal ) {
                    //noinspection JSReferencingMutableVariableFromClosure
                    console.log( (i + ":").yellow, intface.address.white );
                }
            } ); // jshint ignore:line
        }
    }

}